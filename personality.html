<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Personality Test</title>

    <meta charset="UTF-8" />
    <title>Personality Test</title>
    <link rel="stylesheet" href="personality.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-2CP49E5C0R"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-2CP49E5C0R");
    </script>

    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="page-container">
      <div id="quiz-container">
        <div id="gif-container"></div>
      </div>
      <div id="qnButtons">
        <button id="nextbtn" onclick="traverseQuestions('front')">Next</button>
        <button id="checkbtn" style="display: none" onclick="submitAnswers()">
          Submit
        </button>
        <button onclick="traverseQuestions('back')">Back</button>
      </div>
    </div>
    <script src="personality.js"></script>
  </body>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-analytics.js";
    import {
      getDatabase,
      ref,
      push,
    } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";
    import {
      getDatabase,
      ref,
      push,
    } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

    const db = getDatabase();

    export function logResultToFirebase(data) {
      const resultsRef = ref(db, "quizResults");
      push(resultsRef, data)
        .then(() => console.log("Result pushed to Firebase."))
        .catch((err) => console.error("Error logging result:", err));
    }

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyAY6kpTdzwwpc8siw5nMTC7RV6yhRm9jYg",
      authDomain: "colight-94527.firebaseapp.com",
      databaseURL:
        "https://colight-94527-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "colight-94527",
      storageBucket: "colight-94527.firebasestorage.app",
      messagingSenderId: "982501307891",
      appId: "1:982501307891:web:e8118309fd27e038fa8e86",
      measurementId: "G-H6SZZCPFK8",
    };

    // Optional function to log quiz result
    export function logResultToFirebase(resultData) {
      const resultsRef = ref(db, "quizResults");
      push(resultsRef, resultData)
        .then(() => console.log("Result logged to Firebase"))
        .catch((error) => console.error("Error logging result:", error));
    }

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
</html>
